(function(){function a(b){null!=b&&(this.value_=b)}a.prototype=Object.create(null);a.prototype.isPresent=function(){return null!=this.value_};a.prototype.isAbsent=function(){return null==this.value_};a.prototype.get=function(){if(this.isPresent())return this.value_;throw Error("Value is absent");};a.prototype.orElse=function(b){return null==this.value_?b:this.value_};a.prototype.ifPresent=function(b){null!=this.value_&&b(this.value_)};a.prototype.map=function(b){return null==this.value_?d:c.of(b(this.value_))};
Promise&&(a.prototype.promise=function(){return new Promise(function(b,a){null==this.value_?a():b(this.get())}.bind(this))});a.prototype.toString=function(){return null==this.value_?"Optional[absent]":"Optional['"+this.value_+"']"};var d=Object.seal(new a(null)),c=Object.create(null);c.of=function(b){return Object.seal(new a(b))};c.absent=function(){return d};Object.seal(c);"undefined"!==typeof exports?exports="undefined"!==typeof module&&module.exports?module.exports=c:c:this.Optional=c}).call(this);
